{"ast":null,"code":"import { createSlice, nanoid } from \"@reduxjs/toolkit\";\nconst initialState = [{\n  id: null,\n  imgSrc: null,\n  imgResult: null,\n  imgDimensions: null\n}];\nconst photoSlice = createSlice({\n  name: 'photos',\n  initialState,\n  reducers: {\n    photoAdded: {\n      reducer(state, action) {\n        state.push(action.payload);\n      },\n      prepare(imgDimensions) {\n        return {\n          payload: {\n            id: nanoid(),\n            imgSrc: null,\n            imgResult: null,\n            imgDimensions\n          }\n        };\n      }\n    },\n    photoUpdatedSrc(state, action) {\n      const {\n        id,\n        imgSrc\n      } = action.payload;\n      const existingPhoto = state.find(photo => photo.id === id);\n      if (existingPhoto) {\n        existingPhoto.imgSrc = imgSrc;\n        existingPhoto.imgResult = imgSrc;\n      }\n    },\n    photoUpdatedResult(state, action) {\n      const {\n        id,\n        imgResult\n      } = action.payload;\n      const existingPhoto = state.find(photo => photo.id === id);\n      if (existingPhoto) {\n        existingPhoto.imgResult = imgResult;\n      }\n    }\n  }\n});\nexport const {\n  photoAdded\n} = photoSlice.actions;\nexport default photoSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","initialState","id","imgSrc","imgResult","imgDimensions","photoSlice","name","reducers","photoAdded","reducer","state","action","push","payload","prepare","photoUpdatedSrc","existingPhoto","find","photo","photoUpdatedResult","actions"],"sources":["/home/luc/Documents/photobox-peru/src/features/photoEdition/PhotoSlice.js"],"sourcesContent":["import { createSlice, nanoid } from \"@reduxjs/toolkit\";\n\nconst initialState = [\n      {id: null, imgSrc: null, imgResult: null, imgDimensions: null}\n]\n\nconst photoSlice = createSlice({\n      name: 'photos',\n      initialState,\n      reducers: {\n            photoAdded: {\n                  reducer(state, action) {\n                        state.push(action.payload)\n                  },\n                  prepare(imgDimensions) {\n                        return {\n                              payload: {\n                                    id: nanoid(),\n                                    imgSrc: null,\n                                    imgResult: null,\n                                    imgDimensions\n                              }\n                        }\n                  }\n            },\n            photoUpdatedSrc(state, action) {\n                  const {id, imgSrc} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgSrc = imgSrc;\n                        existingPhoto.imgResult = imgSrc;\n                  }\n            },\n            photoUpdatedResult(state, action) {\n                  const {id, imgResult} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgResult = imgResult;\n                  }\n            }\n      }\n})\n\nexport const {photoAdded} = photoSlice.actions;\n\n\nexport default photoSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,QAAQ,kBAAkB;AAEtD,MAAMC,YAAY,GAAG,CACf;EAACC,EAAE,EAAE,IAAI;EAAEC,MAAM,EAAE,IAAI;EAAEC,SAAS,EAAE,IAAI;EAAEC,aAAa,EAAE;AAAI,CAAC,CACnE;AAED,MAAMC,UAAU,GAAGP,WAAW,CAAC;EACzBQ,IAAI,EAAE,QAAQ;EACdN,YAAY;EACZO,QAAQ,EAAE;IACJC,UAAU,EAAE;MACNC,OAAO,CAACC,KAAK,EAAEC,MAAM,EAAE;QACjBD,KAAK,CAACE,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;MAChC,CAAC;MACDC,OAAO,CAACV,aAAa,EAAE;QACjB,OAAO;UACDS,OAAO,EAAE;YACHZ,EAAE,EAAEF,MAAM,EAAE;YACZG,MAAM,EAAE,IAAI;YACZC,SAAS,EAAE,IAAI;YACfC;UACN;QACN,CAAC;MACP;IACN,CAAC;IACDW,eAAe,CAACL,KAAK,EAAEC,MAAM,EAAE;MACzB,MAAM;QAACV,EAAE;QAAEC;MAAM,CAAC,GAAGS,MAAM,CAACE,OAAO;MACnC,MAAMG,aAAa,GAAGN,KAAK,CAACO,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACjB,EAAE,KAAKA,EAAE,CAAC;MAC1D,IAAGe,aAAa,EAAE;QACZA,aAAa,CAACd,MAAM,GAAGA,MAAM;QAC7Bc,aAAa,CAACb,SAAS,GAAGD,MAAM;MACtC;IACN,CAAC;IACDiB,kBAAkB,CAACT,KAAK,EAAEC,MAAM,EAAE;MAC5B,MAAM;QAACV,EAAE;QAAEE;MAAS,CAAC,GAAGQ,MAAM,CAACE,OAAO;MACtC,MAAMG,aAAa,GAAGN,KAAK,CAACO,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACjB,EAAE,KAAKA,EAAE,CAAC;MAC1D,IAAGe,aAAa,EAAE;QACZA,aAAa,CAACb,SAAS,GAAGA,SAAS;MACzC;IACN;EACN;AACN,CAAC,CAAC;AAEF,OAAO,MAAM;EAACK;AAAU,CAAC,GAAGH,UAAU,CAACe,OAAO;AAG9C,eAAef,UAAU,CAACI,OAAO"},"metadata":{},"sourceType":"module"}