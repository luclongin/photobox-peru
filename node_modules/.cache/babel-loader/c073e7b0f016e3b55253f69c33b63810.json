{"ast":null,"code":"import { createSlice, nanoid } from \"@reduxjs/toolkit\";\nconst initialState = {};\nconst photoSlice = createSlice({\n  name: 'photos',\n  initialState,\n  reducers: {\n    photoAdded: {\n      reducer(state, action) {\n        const newId = nanoid();\n        action.payload.id = newId;\n        state[newId] = action.payload;\n      },\n      prepare(imgDimensions) {\n        return {\n          payload: {\n            imgSrc: null,\n            imgResult: null,\n            imgDimensions\n          }\n        };\n      }\n    },\n    photoUpdatedSrc(state, action) {\n      const {\n        id,\n        imgSrc\n      } = action.payload;\n      const existingPhoto = state.find(photo => photo.id === id);\n      if (existingPhoto) {\n        existingPhoto.imgSrc = imgSrc;\n        existingPhoto.imgResult = imgSrc;\n      }\n    },\n    photoUpdatedResult(state, action) {\n      const {\n        id,\n        imgResult\n      } = action.payload;\n      const existingPhoto = state.find(photo => photo.id === id);\n      if (existingPhoto) {\n        existingPhoto.imgResult = imgResult;\n      }\n    }\n  }\n});\nexport const {\n  photoAdded,\n  photoUpdatedSrc,\n  photoUpdatedResult\n} = photoSlice.actions;\nexport default photoSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","initialState","photoSlice","name","reducers","photoAdded","reducer","state","action","newId","payload","id","prepare","imgDimensions","imgSrc","imgResult","photoUpdatedSrc","existingPhoto","find","photo","photoUpdatedResult","actions"],"sources":["/home/luc/Documents/photobox-peru/src/features/photoEdition/PhotoSlice.js"],"sourcesContent":["import { createSlice, nanoid } from \"@reduxjs/toolkit\";\n\nconst initialState = {}\n\nconst photoSlice = createSlice({\n      name: 'photos',\n      initialState,\n      reducers: {\n            photoAdded: {\n                  reducer(state, action) {\n                        const newId = nanoid();\n                        action.payload.id = newId;\n                        state[newId] = action.payload;\n                        \n                  },\n                  prepare(imgDimensions) {\n                        return {\n                              payload: {\n                                    imgSrc: null,\n                                    imgResult: null,\n                                    imgDimensions\n                              }\n                        }\n                  }\n            },\n            photoUpdatedSrc(state, action) {\n                  const {id, imgSrc} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgSrc = imgSrc;\n                        existingPhoto.imgResult = imgSrc;\n                  }\n            },\n            photoUpdatedResult(state, action) {\n                  const {id, imgResult} = action.payload;\n                  const existingPhoto = state.find(photo => photo.id === id);\n                  if(existingPhoto) {\n                        existingPhoto.imgResult = imgResult;\n                  } \n            }\n      }\n})\n\nexport const {photoAdded, photoUpdatedSrc, photoUpdatedResult} = photoSlice.actions;\n\n\nexport default photoSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,QAAQ,kBAAkB;AAEtD,MAAMC,YAAY,GAAG,CAAC,CAAC;AAEvB,MAAMC,UAAU,GAAGH,WAAW,CAAC;EACzBI,IAAI,EAAE,QAAQ;EACdF,YAAY;EACZG,QAAQ,EAAE;IACJC,UAAU,EAAE;MACNC,OAAO,CAACC,KAAK,EAAEC,MAAM,EAAE;QACjB,MAAMC,KAAK,GAAGT,MAAM,EAAE;QACtBQ,MAAM,CAACE,OAAO,CAACC,EAAE,GAAGF,KAAK;QACzBF,KAAK,CAACE,KAAK,CAAC,GAAGD,MAAM,CAACE,OAAO;MAEnC,CAAC;MACDE,OAAO,CAACC,aAAa,EAAE;QACjB,OAAO;UACDH,OAAO,EAAE;YACHI,MAAM,EAAE,IAAI;YACZC,SAAS,EAAE,IAAI;YACfF;UACN;QACN,CAAC;MACP;IACN,CAAC;IACDG,eAAe,CAACT,KAAK,EAAEC,MAAM,EAAE;MACzB,MAAM;QAACG,EAAE;QAAEG;MAAM,CAAC,GAAGN,MAAM,CAACE,OAAO;MACnC,MAAMO,aAAa,GAAGV,KAAK,CAACW,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACR,EAAE,KAAKA,EAAE,CAAC;MAC1D,IAAGM,aAAa,EAAE;QACZA,aAAa,CAACH,MAAM,GAAGA,MAAM;QAC7BG,aAAa,CAACF,SAAS,GAAGD,MAAM;MACtC;IACN,CAAC;IACDM,kBAAkB,CAACb,KAAK,EAAEC,MAAM,EAAE;MAC5B,MAAM;QAACG,EAAE;QAAEI;MAAS,CAAC,GAAGP,MAAM,CAACE,OAAO;MACtC,MAAMO,aAAa,GAAGV,KAAK,CAACW,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACR,EAAE,KAAKA,EAAE,CAAC;MAC1D,IAAGM,aAAa,EAAE;QACZA,aAAa,CAACF,SAAS,GAAGA,SAAS;MACzC;IACN;EACN;AACN,CAAC,CAAC;AAEF,OAAO,MAAM;EAACV,UAAU;EAAEW,eAAe;EAAEI;AAAkB,CAAC,GAAGlB,UAAU,CAACmB,OAAO;AAGnF,eAAenB,UAAU,CAACI,OAAO"},"metadata":{},"sourceType":"module"}