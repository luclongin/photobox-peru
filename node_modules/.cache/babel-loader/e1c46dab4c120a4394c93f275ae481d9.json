{"ast":null,"code":"var _jsxFileName = \"/home/luc/Documents/photobox-peru/src/components/uploadPhotoDialog/uploadPhotoDialog.component.jsx\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useState, useCallback } from 'react';\nimport Cropper from 'react-easy-crop';\nimport { Container, Slider, Button, Typography, Box } from '@mui/material';\nimport getCroppedImg from '../../utils/cropImage';\nimport { styled } from '@mui/material/styles';\nimport UploadPhotoCard from '../uploadPhotoCard/uploadPhotoCard.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction readFile(file) {\n  return new Promise(resolve => {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => resolve(reader.result), false);\n    reader.readAsDataURL(file);\n  });\n}\nconst UploadPhotoDialog = _ref => {\n  _s();\n  let {\n    formData,\n    setFormData\n  } = _ref;\n  const [imageSrc, setImageSrc] = useState(null);\n  const [crop, setCrop] = useState({\n    x: 0,\n    y: 0\n  });\n  const [rotation, setRotation] = useState(0);\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const [croppedImage, setCroppedImage] = useState(null);\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n  const showCroppedImage = useCallback(async () => {\n    try {\n      const croppedImage = await getCroppedImg(imageSrc, croppedAreaPixels, rotation);\n      console.log('donee', {\n        croppedImage\n      });\n      setCroppedImage(croppedImage);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [croppedAreaPixels, rotation]);\n  const onClose = useCallback(() => {\n    setCroppedImage(null);\n  }, []);\n  const onFileChange = async e => {\n    if (e.target.files && e.target.files.length > 0) {\n      const file = e.target.files[0];\n      let imageDataUrl = await readFile(file);\n      setImageSrc(imageDataUrl);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: \"true\",\n    sx: {\n      width: 500\n    },\n    children: imageSrc ? /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'relative',\n          width: '100%',\n          height: 200,\n          background: '#333'\n        },\n        children: /*#__PURE__*/_jsxDEV(Cropper, {\n          image: imageSrc,\n          crop: crop,\n          rotation: rotation,\n          zoom: zoom,\n          aspect: 4 / 3,\n          onCropChange: setCrop,\n          onRotationChange: setRotation,\n          onCropComplete: onCropComplete,\n          onZoomChange: setZoom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'stretch'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flex: '1',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"overline\",\n            children: \"Zoom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            value: zoom,\n            min: 1,\n            max: 3,\n            step: 0.1,\n            \"aria-labelledby\": \"Zoom\",\n            onChange: (e, zoom) => setZoom(zoom),\n            style: {\n              padding: '22px 0px',\n              marginLeft: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: showCroppedImage,\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Show Result\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(UploadPhotoCard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }, this)\n    //<input type=\"file\" onChange={onFileChange} accept=\"image/*\" />\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }, this);\n};\n_s(UploadPhotoDialog, \"XijVSz3XupMu2/i+vlCdssFfuD4=\");\n_c = UploadPhotoDialog;\nexport default UploadPhotoDialog;\nvar _c;\n$RefreshReg$(_c, \"UploadPhotoDialog\");","map":{"version":3,"names":["React","Fragment","useState","useCallback","Cropper","Container","Slider","Button","Typography","Box","getCroppedImg","styled","UploadPhotoCard","readFile","file","Promise","resolve","reader","FileReader","addEventListener","result","readAsDataURL","UploadPhotoDialog","formData","setFormData","imageSrc","setImageSrc","crop","setCrop","x","y","rotation","setRotation","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","croppedImage","setCroppedImage","onCropComplete","croppedArea","showCroppedImage","console","log","e","error","onClose","onFileChange","target","files","length","imageDataUrl","width","position","height","background","display","flexDirection","alignItems","flex","padding","marginLeft"],"sources":["/home/luc/Documents/photobox-peru/src/components/uploadPhotoDialog/uploadPhotoDialog.component.jsx"],"sourcesContent":["import React, { Fragment, useState, useCallback } from 'react'\nimport Cropper from 'react-easy-crop'\nimport { Container, Slider, Button, Typography, Box} from '@mui/material';\nimport getCroppedImg from '../../utils/cropImage';\nimport {styled} from '@mui/material/styles';\nimport UploadPhotoCard from '../uploadPhotoCard/uploadPhotoCard.component';\n\nfunction readFile(file) {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.addEventListener('load', () => resolve(reader.result), false)\n    reader.readAsDataURL(file)\n  })\n}\n\nconst UploadPhotoDialog = ({formData, setFormData}) => {\n      const [imageSrc, setImageSrc] = useState(null);\n      const [crop, setCrop] = useState({ x: 0, y: 0 });\n      const [rotation, setRotation] = useState(0);\n      const [zoom, setZoom] = useState(1);\n      const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n      const [croppedImage, setCroppedImage] = useState(null);\n\n      const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n        setCroppedAreaPixels(croppedAreaPixels);\n      }, [])\n\n      const showCroppedImage = useCallback(async () => {\n      try {\n            const croppedImage = await getCroppedImg(\n            imageSrc,\n            croppedAreaPixels,\n            rotation\n            )\n            console.log('donee', { croppedImage });\n            setCroppedImage(croppedImage);\n      } catch (e) {\n            console.error(e);\n      }\n      }, [croppedAreaPixels, rotation])\n\n      const onClose = useCallback(() => {\n      setCroppedImage(null)\n      }, []);\n\n      const onFileChange = async (e) => {\n        if (e.target.files && e.target.files.length > 0) {\n          const file = e.target.files[0]\n          let imageDataUrl = await readFile(file);\n          setImageSrc(imageDataUrl)\n        }\n      }\n\n      return(\n            <Container fluid=\"true\" sx={{\n              width: 500\n            }}>\n              { imageSrc ? (\n              <Fragment>\n                <Box sx={{\n                  position: 'relative',\n                  width: '100%',\n                  height: 200,\n                  background: '#333',\n                }}>\n                  <Cropper\n                        image={imageSrc}\n                        crop={crop}\n                        rotation={rotation}\n                        zoom={zoom}\n                        aspect={4/3}\n                        onCropChange={setCrop}\n                        onRotationChange={setRotation}\n                        onCropComplete={onCropComplete}\n                        onZoomChange={setZoom}\n                  /> \n                </Box>\n                <Box sx={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'stretch',\n                }}>\n                  <Box sx={{\n                    display: 'flex',\n                    flex: '1',\n                    alignItems: 'center',}}\n                  >\n                    <Typography\n                      variant=\"overline\"                  >\n                      Zoom\n                    </Typography>\n                    <Slider\n                      value={zoom}\n                      min={1}\n                      max={3}\n                      step={0.1}\n                      aria-labelledby=\"Zoom\"\n                      onChange={(e, zoom) => setZoom(zoom)}\n                      style={{\n                        padding: '22px 0px',\n                        marginLeft: 16,\n                      }}\n                    />\n                  </Box>\n                  <Button\n                    onClick={showCroppedImage}\n                    variant=\"contained\"\n                    color=\"primary\"\n                  >\n                    Show Result\n                  </Button>\n                </Box>\n              </Fragment>\n            ) : (\n              <UploadPhotoCard />\n              //<input type=\"file\" onChange={onFileChange} accept=\"image/*\" />\n            )\n            }\n            </Container>\n            \n            \n      );\n}\n\nexport default UploadPhotoDialog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}